代码来自linux-2.6.11.1,除注释外不做任何修改.